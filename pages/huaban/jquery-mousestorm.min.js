/*
 * author www.520it.com zhaoyanmingfei@qq.com
 * Version V1.0.3
 * Injection jquery
 */
;(function(a){a.fn.mousestorm=function(k){if(!k||!("images" in k)||!k.images[0]){console.log("对不起，请指定粒子图片");return}var f=0;var i=a(window).width();var c=a(window).height();var g=a(this);var e={opacity:[0.2,0.96],time:[2000,3000],rotate:[360,720],scale:[0.3,0.7],diepresent:0.2,numpresent:0.04,maxkey:1000};var b=a.extend({},e,k);a("head").append(a('<style id="mouseStorm">'+this.selector+" img{position:absolute;left:0;top:0; transform:rotate(0deg); z-index: 999;}</style>"));h();function h(){var n="";for(var s=0;s<b.maxkey;s++){var t=d(b.opacity[0],b.opacity[1]);var o=d(b.time[0],b.time[1]);var p=d(b.scale[0],b.scale[1]);var l=b.diepresent;var r=d(b.rotate[0],b.rotate[1]);var q={css:{transform:"rotate("+d(0,360)+"deg) scale("+p+") translateX(0) translateY(0)",opacity:t,animation:"strom"+s+" "+o+"ms linear forwards"}};var m=parseInt(d(0,360));var v=i*l*Math.sin(m*Math.PI/180);var u=i*l*Math.cos(m*Math.PI/180);n+="@keyframes strom"+s+"{ 0%{transform:"+q.css.transform+"; opacity:"+t+";scale("+p+");} 100%{transform:rotate("+d(0,1080)+"deg) translateX("+v+"px) translateY("+u+"px) scale("+d(b.scale[0],b.scale[1])+"); opacity:0;} }.stay"+s+"{transform:"+q.css.transform+"; opacity:"+q.css.opacity+";animation:"+q.css.animation+";}"}a("#mouseStorm").append(n)}a(window).on("mousemove",function(m){var l=m.pageX;var n=m.pageY;if(parseInt(d(0,(1/b.numpresent)))==1){j(l,n)}});function j(m,r){var p=a("<img />");var n="stay"+parseInt(d(0,b.maxkey));var l=b.images;var q={tag:p,src:l[parseInt(d(0,l.length))],css:{left:m,top:r}};p.attr({src:q.src,"class":n});p.css(q.css);g.append(p);var o=p.css("animation-duration");o=o.substr(0,o.length-1)*1000;setTimeout(function(){a(p).remove()},o)}function d(m,l){return Math.random()*(l-m)+m}}})(window.jQuery);